<mat-card style="width:600px;" *ngIf="!registrationDone">
    <ngb-alert type="danger" *ngIf="registerFailed" (close)="registerFailed = false">
        Une erreur est survenue, veuillez consulter l'administrateur du site
    </ngb-alert>
    <mat-spinner *ngIf="loading" [diameter]="20"></mat-spinner>
    <mat-card-title class="text-center">S'enregistrer</mat-card-title>
    <div class="container">
    <mat-card-content>
        <form class="form-content" [formGroup]="registerForm">
              <mat-form-field>
                <input matInput
                       placeholder="username"
                       formControlName="username"
                       autocomplete="Off" required/>
              </mat-form-field>
            <mat-form-field>
                <input matInput type="password"
                       placeholder="{{ password.errors?.pattern ?
                       '8 caractères minimum, une majuscule, une minuscule et un nombre' :
                       'password' }}"
                       formControlName="password"
                       autocomplete="Off" required/>
            </mat-form-field>
            <mat-form-field>
                <input matInput type="email"
                       placeholder="email"
                       formControlName="email"
                       autocomplete="Off" required/>
            </mat-form-field>
            <button class="mt-3" mat-flat-button
                    [disabled]="loading || registerForm.invalid"
                    (click)="register()"
                    color="primary">
                <span>Envoyer</span>
            </button>
        </form>
    </mat-card-content>
<mat-card *ngIf="registrationDone">
    <mat-card-title class="text-center">Enregistrement réalisé</mat-card-title>
    <mat-card-content class="text-center">
        Vous devrez cependant attendre que l'administrateur confirme votre inscription
        avant de pouvoir vous connecter.
    </mat-card-content>
</mat-card>